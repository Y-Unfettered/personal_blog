# 2026-02-02 工作记录

## 今日目标

- 让前端按后端生成 JSON 数据加载
- 首页限制最多 10 篇文章并添加“查看更多”提示
- 栏目页面按 slug 规则归类文章
- 后台可配置栏目封面图
- 清理设计创作页的假数据，替换为真实文章

## 完成事项

- 修复 JSON 生成失败：补齐标签数据，`scripts/generate-data.cjs` 可正常生成 `public/data/*.json`
- 首页最多显示 10 篇文章，并增加“查看更多”提示卡片
- 栏目列表根据导航数据展示 5 个栏目，并支持封面图
- 后台“导航管理”增加封面图 URL 字段，API 支持 `cover`
- 文章 slug 统一为 `栏目slug/分类slug?id=序号`，保证栏目归类一致
- 设计创作页替换为真实数据渲染（按 `slug` 前缀过滤）
- 修复栏目/导航切换后页面不在顶部显示的问题（切换时滚动到顶部）

## 关键文件变更

- `src/App.vue`
  - 首页 10 条限制 + 提示卡片
  - 栏目页按 `slug` 过滤文章
  - 设计创作页改为真实数据渲染
  - 切换页面后自动滚动到顶部
- `scripts/admin-server.cjs`
  - `nav` API 支持 `cover`
- `admin/index.html`
  - 导航编辑新增封面图 URL
- `data/seed/nav.json`
  - 栏目封面图地址写入
- `data/seed/posts.json`
  - slug 统一格式
- `public/data/*.json`
  - 重新生成输出

## 说明

- 设计创作页现在只显示 `slug` 以 `design/` 开头的文章
- 其他栏目页可按同样规则扩展
- 后台保存封面图后需要重新生成 JSON 才会更新到静态数据

## 待办

- 将“工具分享 / 问题记录 / 生活随笔”等页面也替换为真实数据渲染
- 继续完善栏目页 UI 细节
